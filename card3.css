/* ===== Card 3 - 3D 나선형 계단 ===== */

.spiral-container {
  display: block;
  width: 100%; height: 100%;
  position: absolute; top: 0; left: 0;
  overflow: hidden;
  perspective: 300px;
  perspective-origin: 50% 80%;
  background: linear-gradient(180deg, #0a0a15 0%, #1a1a2e 30%, #16213e 70%, #0f3460 100%);
  border-radius: 24px;
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
.card.fullscreen .spiral-container { border-radius: 0; perspective: 500px; }
.card.shrinking .spiral-container { border-radius: 24px; perspective: 300px; }

.spiral-scene {
  position: absolute; width: 100%; height: 100%;
  transform-style: preserve-3d;
  transform-origin: 50% 80%;
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(0.5);
}
.card.fullscreen .spiral-scene { transform: scale(1); }
.card.shrinking .spiral-scene { transform: scale(0.5); }

.spiral-pillar {
  position: absolute; left: 50%; bottom: 0;
  width: 20px; height: 2000px;
  background: linear-gradient(90deg, #2d2d44 0%, #4a4a6a 50%, #2d2d44 100%);
  transform: translateX(-50%) translateZ(0);
  border-radius: 20px;
  box-shadow: inset -10px 0 20px rgba(0,0,0,0.5), inset 10px 0 20px rgba(255,255,255,0.1);
  transition: width 0.6s ease;
}
.card.fullscreen .spiral-pillar { width: 35px; }

.spiral-stair {
  position: absolute; left: 50%; bottom: 20%;
  transform-style: preserve-3d;
}

.stair-top {
  position: absolute;
  width: 200px; height: 100px;
  background: linear-gradient(135deg, #8b7355 0%, #a08060 50%, #8b7355 100%);
  transform: rotateX(90deg) translateZ(20px);
  transform-origin: center bottom;
  border-radius: 4px;
  box-shadow: inset 0 0 30px rgba(0,0,0,0.4);
  margin-left: -100px;
  transition: all 0.6s ease;
}
.card.fullscreen .stair-top { width: 280px; height: 120px; margin-left: -140px; }

.stair-front {
  position: absolute;
  width: 200px; height: 35px;
  background: linear-gradient(180deg, #6b5344 0%, #5a4535 100%);
  transform: translateZ(60px);
  border-radius: 2px;
  margin-left: -100px;
  transition: all 0.6s ease;
}
.card.fullscreen .stair-front { width: 280px; height: 40px; margin-left: -140px; }

.stair-side {
  position: absolute;
  width: 100px; height: 35px;
  background: linear-gradient(90deg, #5a4535 0%, #4a3525 100%);
  transform: rotateY(90deg) translateZ(100px) translateX(-50px);
  transition: all 0.6s ease;
}
.card.fullscreen .stair-side { width: 120px; height: 40px; transform: rotateY(90deg) translateZ(140px) translateX(-60px); }

.stair-railing {
  position: absolute;
  width: 8px; height: 70px;
  background: linear-gradient(90deg, #c9a86c 0%, #d4b87a 50%, #c9a86c 100%);
  border-radius: 5px;
  transform: translateX(110px) translateY(-70px) translateZ(60px);
  box-shadow: 2px 2px 15px rgba(0,0,0,0.4);
  transition: all 0.6s ease;
}
.card.fullscreen .stair-railing { width: 10px; height: 80px; transform: translateX(150px) translateY(-80px) translateZ(60px); }

.stair-frame {
  position: absolute;
  width: 60px; height: 60px;
  background: linear-gradient(135deg, #d4af37 0%, #f4d03f 30%, #d4af37 70%, #aa8c2c 100%);
  border-radius: 6px;
  transform: translateX(-140px) translateY(-80px) translateZ(30px) rotateY(-20deg);
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  padding: 6px; cursor: pointer;
  transition: all 0.3s ease;
}
.card.fullscreen .stair-frame { width: 80px; height: 80px; transform: translateX(-180px) translateY(-100px) translateZ(30px) rotateY(-20deg); }
.stair-frame:hover {
  box-shadow: 0 15px 50px rgba(212, 175, 55, 0.6);
  transform: translateX(-140px) translateY(-85px) translateZ(50px) rotateY(-20deg) scale(1.1);
}
.card.fullscreen .stair-frame:hover { transform: translateX(-180px) translateY(-105px) translateZ(50px) rotateY(-20deg) scale(1.15); }

.stair-frame-inner {
  width: 100%; height: 100%;
  background: linear-gradient(135deg, #1a1a2e 0%, #2d2d44 100%);
  border-radius: 3px;
  display: flex; align-items: center; justify-content: center;
  color: #667eea;
  font-size: 1.4rem;
  transition: font-size 0.6s ease;
}
.card.fullscreen .stair-frame-inner { font-size: 1.8rem; }

.spiral-progress {
  position: fixed; bottom: 80px; left: 50%;
  transform: translateX(-50%);
  font-size: 1.3rem; font-weight: 700;
  color: rgba(255,255,255,0.7); z-index: 20;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
  transition: all 0.6s ease;
}
.card.fullscreen .spiral-progress { font-size: 1.5rem; bottom: 100px; }

/* Card3 비디오 팝업 */
.card3-video-popup {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.95);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  z-index: 2000; opacity: 0; visibility: hidden; transition: all 0.4s ease;
}
.card3-video-popup.active { opacity: 1; visibility: visible; }

.card3-video-content { display: flex; flex-direction: column; align-items: center; gap: 30px; }

#card3-video {
  max-width: min(80vw, 900px);
  max-height: 60vh;
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}
